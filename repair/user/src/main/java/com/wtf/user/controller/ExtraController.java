package com.wtf.user.controller;import com.github.pagehelper.PageHelper;import com.github.pagehelper.PageInfo;import com.wtf.user.config.UserInfo;import com.wtf.user.entity.dto.UserRedis;import com.wtf.user.entity.vo.GoodServiceManVO;import com.wtf.user.service.ExtraService;import com.wtf.user.service.UserService;import com.wtf.user.util.ResponseEntity;import io.swagger.annotations.Api;import io.swagger.annotations.ApiOperation;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestParam;import org.springframework.web.bind.annotation.RestController;import java.math.BigDecimal;import java.util.List;/** * @author wangtengfei * @since 2020/4/27 20:47 */@RestController@RequestMapping("api/userExtra")@Api("额外")@Slf4jpublic class ExtraController {    @Autowired    private ExtraService extraService;    @Autowired    private UserService userService;    @ApiOperation(value = "状态数量统计", notes = "状态数量统计")    @GetMapping("getStatusCount")    public ResponseEntity<List<GoodServiceManVO>> getAllStatusCount(@RequestParam(value = "status", required = false) Integer status) {        return ResponseEntity.success(extraService.getAllStatusCount(status));    }    @ApiOperation(value = "赋权", notes = "赋权")    @GetMapping("setRole")    public ResponseEntity<Integer> setRole(@UserInfo UserRedis userRedis, @RequestParam(value = "accountOrPhone") String account,                                           @RequestParam(value = "role") Integer role) {        return ResponseEntity.success(userService.setRole(account, role));    }//    @ApiOperation(value = "获取微信token", notes = "获取微信token")//    @GetMapping("getWxToken")//    public ResponseEntity<String> getWxToken() {//        return ResponseEntity.success(userService.getWxToken());//    }    @ApiOperation(value = "查询所有用户信息", notes = "查询所有用户信息")    @GetMapping("getAllUser")    public ResponseEntity<PageInfo<com.wtf.user.entity.dto.UserInfo>> getAllUser(@RequestParam(value = "account", required = false) String account,                                                                                 @RequestParam(value = "surname", required = false) String surname,                                                                                 @RequestParam(value = "name", required = false) String name,                                                                                 @RequestParam(value = "phone", required = false) String phone,                                                                                 @RequestParam(value = "role", required = false) Integer role,                                                                                 @RequestParam(value = "page", required = false, defaultValue = "1") Integer page,                                                                                 @RequestParam(value = "pageSize", required = false, defaultValue = "10") Integer pageSize) {        PageHelper.startPage(page, pageSize);        return ResponseEntity.success(userService.getAllUser(account, surname, name, phone, role));    }    @ApiOperation(value = "查询用户手机号", notes = "查询用户手机号")    @GetMapping("getPhone")    public ResponseEntity<String> getAllUser(@RequestParam(value = "account", required = true) String account) {        return ResponseEntity.success(userService.getPhone(account));    }}